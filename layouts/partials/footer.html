<footer class="mt-5 py-4 text-center">
  <div class="container">
    <a class="mb-0" href="https://github.com/enochyu-official" target="_blank" rel="noopener noreferrer">
      &copy; {{ now.Year }} {{ .Site.Params.author }}. All Rights Reserved.
    </a>
  </div>

  <script data-goatcounter="https://enochyu.goatcounter.com/count"
    async src="//gc.zgo.at/count.js"></script>

  <script>
    (function () {
      fetch("https://enochyu.goatcounter.com/counter/TOTAL.json?cb=" + Date.now())
        .then(r => {
          if (!r.ok) throw new Error("HTTP " + r.status);
          return r.json();
        })

        .then(d => {
          const el = document.getElementById("gc-total-views");
          if (el) el.textContent = d.count;
        })

        .catch(err => {
          const el = document.getElementById("gc-total-views");

          if (el) el.textContent = "ERR";
          console.error("GoatCounter:", err); 
        });
    })();
  </script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const el = document.getElementById("page-views");

      if (el) {
        const path = el.getAttribute("data-gc-path");
        const url = `enochyu.goatcounter.com{encodeURIComponent(path)}.json?cb=${Date.now()}`;

        fetch(url)
          .then(r => r.ok ? r.json() : Promise.reject(r.status))
          .then(d => { el.textContent = d.count; })
          .catch(() => { el.textContent = "0"; });
      }
    });
  </script>
</footer>
